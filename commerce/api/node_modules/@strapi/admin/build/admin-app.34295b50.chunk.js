(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[5538],{78834:function(x,h,e){"use strict";e.d(h,{Z:function(){return dt}});var t=e(5173),l=e(88425),a=e(32735),y=e(5636),E=e(60216),g=e.n(E),P=e(72850),W=e(27677),Z=e(27649),J=e(87933),w=e(41415),f=e(10369),M=e(49372),N=e(83281),A=e(954),T=e(10190);const I=({onSubmit:K,schema:Te})=>{const{formatMessage:ie}=(0,y.useIntl)();return a.createElement(A.ZP,null,a.createElement(Z.o,null,a.createElement(A.bU,null,a.createElement(N.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:K,validationSchema:Te,validateOnChange:!1},({values:oe,errors:Ue,handleChange:st})=>a.createElement(l.Form,{noValidate:!0},a.createElement(A.sg,null,a.createElement(T.Z,null),a.createElement(P.x,{paddingTop:6,paddingBottom:7},a.createElement(M.Z,{as:"h1",variant:"alpha"},ie({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Ue.errorMessage&&a.createElement(M.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ie({id:Ue.errorMessage,defaultMessage:"An error occurred"}))),a.createElement(W.K,{spacing:6},a.createElement(f.o,{error:Ue.email?ie({id:Ue.email,defaultMessage:"This email is invalid."}):"",value:oe.email,onChange:st,label:ie({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:ie({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),a.createElement(w.z,{type:"submit",fullWidth:!0},ie({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),a.createElement(J.k,{justifyContent:"center"},a.createElement(P.x,{paddingTop:4},a.createElement(l.Link,{to:"/auth/login"},ie({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};I.defaultProps={onSubmit:K=>K.preventDefault()},I.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};var _=I,v=()=>{const{formatMessage:K}=(0,y.useIntl)();return a.createElement(A.ZP,null,a.createElement(Z.o,null,a.createElement(A.bU,null,a.createElement(A.sg,null,a.createElement(T.Z,null),a.createElement(P.x,{paddingTop:6,paddingBottom:7},a.createElement(M.Z,{as:"h1",variant:"alpha"},K({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),a.createElement(M.Z,null,K({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),a.createElement(P.x,{paddingTop:4},a.createElement(M.Z,null,K({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),a.createElement(J.k,{justifyContent:"center"},a.createElement(P.x,{paddingTop:4},a.createElement(l.Link,{to:"/auth/login"},K({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},qe=()=>{const{formatMessage:K}=(0,y.useIntl)(),ie=(0,l.useQuery)().get("info")||K({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return a.createElement(A.ZP,null,a.createElement(Z.o,null,a.createElement(A.bU,null,a.createElement(A.sg,null,a.createElement(T.Z,null),a.createElement(P.x,{paddingTop:6,paddingBottom:7},a.createElement(M.Z,{as:"h1",variant:"alpha"},K({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),a.createElement(M.Z,null,ie),a.createElement(P.x,{paddingTop:4},a.createElement(M.Z,null,K({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),a.createElement(J.k,{justifyContent:"center"},a.createElement(P.x,{paddingTop:4},a.createElement(l.Link,{to:"/auth/login"},K({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},ge=e(83292),je=e(33795),o=e.n(je),ve=e(9086),S=e.n(ve),O=e(5141),D=e(55721),ye=e(8284),F=e(15335),Me=e(5803),ae=e(60492),$=e(54894),fe=e(72218);const Pt=(0,ge.default)(P.x)`
  text-align: center;
`,it=ge.default.a`
  color: ${({theme:K})=>K.colors.primary600};
`,ft=(0,ge.default)(f.o)`
  ::-ms-reveal {
    display: none;
  }
`,he=({authType:K,fieldsToDisable:Te,noSignin:ie,onSubmit:oe,schema:Ue})=>{const st=(0,l.useNotification)(),{push:le}=(0,O.useHistory)(),[$e,we]=(0,a.useState)(!1),[ze,_e]=(0,a.useState)(!1),[Ve,ct]=(0,a.useState)(0),[ot,mt]=(0,a.useState)({}),{trackUsage:Qe}=(0,l.useTracking)(),{formatMessage:ee}=(0,y.useIntl)(),Pe=(0,l.useQuery)().get("registrationToken");return(0,a.useEffect)(()=>{Pe&&(async()=>{try{const{data:{data:ue}}=await D.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Pe}`);ue&&mt(ue)}catch(ue){const de=o()(ue,["response","data","message"],"An error occurred");st({type:"warning",message:de}),le(`/auth/oops?info=${encodeURIComponent(de)}`)}})()},[Pe]),a.createElement(A.ZP,null,a.createElement(A.bU,null,a.createElement(N.Formik,{enableReinitialize:!0,initialValues:{firstname:ot.firstname||"",lastname:ot.lastname||"",email:ot.email||"",password:"",confirmPassword:"",registrationToken:Pe||void 0,news:!1},onSubmit:async(Se,ue)=>{try{await Ue.validate(Se,{abortEarly:!1}),Ve>0&&K==="register-admin"&&Qe("didSubmitWithErrorsFirstAdmin",{count:Ve.toString()}),oe(Pe?{userInfo:S()(Se,["registrationToken"]),registrationToken:Pe}:Se,ue)}catch(de){const Le=(0,l.getYupInnerErrors)(de);ct(Ve+1),ue.setErrors(Le)}},validateOnChange:!1},({values:Se,errors:ue,handleChange:de})=>a.createElement(l.Form,{noValidate:!0},a.createElement(Z.o,null,a.createElement(A.sg,null,a.createElement(T.Z,null),a.createElement(P.x,{paddingTop:6,paddingBottom:1},a.createElement(M.Z,{as:"h1",variant:"alpha"},ee({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),a.createElement(Pt,{paddingBottom:7},a.createElement(M.Z,{variant:"epsilon",textColor:"neutral600"},ee({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),a.createElement(W.K,{spacing:6},a.createElement(F.r,{gap:4},a.createElement(Me.P,{col:6},a.createElement(f.o,{name:"firstname",required:!0,value:Se.firstname,error:ue.firstname?ee(ue.firstname):void 0,onChange:de,label:ee({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),a.createElement(Me.P,{col:6},a.createElement(f.o,{name:"lastname",value:Se.lastname,onChange:de,label:ee({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),a.createElement(f.o,{name:"email",disabled:Te.includes("email"),value:Se.email,onChange:de,error:ue.email?ee(ue.email):void 0,required:!0,label:ee({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),a.createElement(ft,{name:"password",onChange:de,value:Se.password,error:ue.password?ee(ue.password):void 0,endAction:a.createElement(fe.Z,{onClick:Le=>{Le.preventDefault(),we(Ye=>!Ye)},label:ee($e?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},$e?a.createElement($.default,null):a.createElement(ae.default,null)),hint:ee({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:ee({id:"global.password",defaultMessage:"Password"}),type:$e?"text":"password"}),a.createElement(ft,{name:"confirmPassword",onChange:de,value:Se.confirmPassword,error:ue.confirmPassword?ee(ue.confirmPassword):void 0,endAction:a.createElement(fe.Z,{onClick:Le=>{Le.preventDefault(),_e(Ye=>!Ye)},label:ee(ze?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ze?a.createElement($.default,null):a.createElement(ae.default,null)),required:!0,label:ee({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:ze?"text":"password"}),a.createElement(ye.X,{onValueChange:Le=>{de({target:{value:Le,name:"news"}})},value:Se.news,name:"news","aria-label":"news"},ee({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:a.createElement(it,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},ee({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:a.createElement(it,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},ee({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),a.createElement(w.z,{fullWidth:!0,size:"L",type:"submit"},ee({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!ie&&a.createElement(P.x,{paddingTop:4},a.createElement(J.k,{justifyContent:"center"},a.createElement(l.Link,{label:"Auth.link.signin",to:"/auth/login"},ee({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};he.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:K=>K.preventDefault()},he.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};var lt=he;const tt=(0,ge.default)(f.o)`
  ::-ms-reveal {
    display: none;
  }
`,He=({onSubmit:K,schema:Te})=>{const[ie,oe]=(0,a.useState)(!1),[Ue,st]=(0,a.useState)(!1),{formatMessage:le}=(0,y.useIntl)();return a.createElement(A.ZP,null,a.createElement(Z.o,null,a.createElement(A.bU,null,a.createElement(N.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:K,validationSchema:Te,validateOnChange:!1},({values:$e,errors:we,handleChange:ze})=>a.createElement(l.Form,{noValidate:!0},a.createElement(A.sg,null,a.createElement(T.Z,null),a.createElement(P.x,{paddingTop:6,paddingBottom:7},a.createElement(M.Z,{as:"h1",variant:"alpha"},le({id:"global.reset-password",defaultMessage:"Reset password"}))),we.errorMessage&&a.createElement(M.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},le({id:we.errorMessage,defaultMessage:"An error occurred"}))),a.createElement(W.K,{spacing:6},a.createElement(tt,{name:"password",onChange:ze,value:$e.password,error:we.password?le({id:we.password,defaultMessage:"This field is required."}):void 0,endAction:a.createElement(fe.Z,{onClick:_e=>{_e.preventDefault(),oe(Ve=>!Ve)},label:le(ie?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ie?a.createElement($.default,null):a.createElement(ae.default,null)),hint:le({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:le({id:"global.password",defaultMessage:"Password"}),type:ie?"text":"password"}),a.createElement(tt,{name:"confirmPassword",onChange:ze,value:$e.confirmPassword,error:we.confirmPassword?le({id:we.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:a.createElement(fe.Z,{onClick:_e=>{_e.preventDefault(),st(Ve=>!Ve)},label:le(ie?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ue?a.createElement($.default,null):a.createElement(ae.default,null)),required:!0,label:le({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ue?"text":"password"}),a.createElement(w.z,{fullwidth:!0,type:"submit"},le({id:"global.change-password",defaultMessage:"Change password"})))))),a.createElement(J.k,{justifyContent:"center"},a.createElement(P.x,{paddingTop:4},a.createElement(l.Link,{to:"/auth/login"},le({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};He.defaultProps={onSubmit:K=>K.preventDefault()},He.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};var nt=He,ut=function(){return window&&window.strapi&&window.strapi.isEE?e(98768).Z:e(5365).Z}(),at={"forgot-password":{Component:_,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:v,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:ut,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required),password:t.Z_().required(l.translatedErrors.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:qe,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:lt,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().trim().required(l.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required),registrationToken:t.Z_().required(l.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:lt,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().trim().required(l.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),email:t.Z_().email(l.translatedErrors.email).strict().lowercase(l.translatedErrors.lowercase).required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:nt,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)})}},dt=at},83983:function(x,h,e){"use strict";e.d(h,{Z:function(){return g}});var t=e(92891),a={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.install",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],install:[{action:"admin::marketplace.plugins.install",subject:null}],read:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],uninstall:[{action:"admin::marketplace.plugins.uninstall",subject:null}]},settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}},y=function(){return window&&window.strapi&&window.strapi.isEE?e(99568).Z:e(26123).Z}(),E=(0,t.merge)(a,y),g=E},16577:function(x,h,e){"use strict";e.r(h),e.d(h,{default:function(){return sn}});var t=e(32735),l=e(5141),a=e(12301),y=e(65810),E=e(86349),g=e.n(E),P=e(88423),W=e.n(P),Z=e(93839),J=e.n(Z),w=e(56784),f=e.n(w),M=e(99357),N=e(17247),A=e(13055);const T=(u,s)=>{let n=A.compose;const i=[];u.forEach(p=>{i.push(p())});const d=(0,A.createStore)(I(s,{}),{},n((0,A.applyMiddleware)(...i)));return d.asyncReducers={},d.injectReducer=(p,R)=>{d.asyncReducers[p]=R,d.replaceReducer(I(s,d.asyncReducers))},d},I=(u,s)=>(0,A.combineReducers)({...u,...s});var _=T,H=e(20284),v=e(88425),Ce=e(55721),qe=e(10728),ge=e(5636),je=e(60216),o=e.n(je);const ve=({component:u,path:s,...n})=>{const{pathname:i,search:d}=(0,l.useLocation)();return t.createElement(l.Route,{path:s,render:p=>v.auth.getToken()!==null?t.createElement(u,{...n,...p}):t.createElement(l.Redirect,{to:{pathname:"/auth/login",search:i!=="/"&&`?redirectTo=${encodeURIComponent(`${i}${d}`)}`}})})};ve.propTypes={component:o().any.isRequired,path:o().string.isRequired};var S=(0,t.memo)(ve),O=e(64421),D=e(41925),ye=e(16584),F=e(52136),Me=e(39515),ae=e(7943),$=e(33997),fe=e.n($),Pt=e(39935),it=e.n(Pt),ft=e(33795),he=e.n(ft),lt=e(9086),tt=e.n(lt);const He="GUIDED_TOUR_CURRENT_STEP",nt="GUIDED_TOUR_COMPLETED_STEPS",ut="GUIDED_TOUR_SKIPPED",at=JSON.parse,dt=JSON.stringify;var Te={clear(){localStorage.removeItem(He),localStorage.removeItem(nt)},addCompletedStep(u){const s=at(localStorage.getItem(nt))?.slice()||[];s.includes(u)||(s.push(u),localStorage.setItem(nt,dt(s)))},addCurrentStep(u){localStorage.setItem(He,dt(u))},setSkipped(u){localStorage.setItem(ut,dt(u))},get(u){return at(localStorage.getItem(u))}},ie=e(20139),oe=e(41832),st=u=>u,le=e(97889),$e=e(92891);const we={formErrors:{},modifiedData:{},requestError:null},ze=(u,s)=>(0,le.default)(u,n=>{switch(s.type){case"ON_CHANGE":{(0,$e.set)(n.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return we;case"SET_DATA":{n.modifiedData=s.data;break}case"SET_ERRORS":{n.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{n.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return n}});var _e=e(98399),Ve=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function ct(u,s){var n=Object.keys(u);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(u);s&&(i=i.filter(function(d){return Object.getOwnPropertyDescriptor(u,d).enumerable})),n.push.apply(n,i)}return n}function ot(u){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?ct(Object(n),!0).forEach(function(i){(0,ye.Z)(u,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach(function(i){Object.defineProperty(u,i,Object.getOwnPropertyDescriptor(n,i))})}return u}var mt=function(){return window&&window.strapi&&window.strapi.isEE?e(7277).Z:e(78834).Z}(),Qe=function(s){var n=s.hasAdmin,i=s.setHasAdmin,d=(0,l.useHistory)(),p=d.push,R=d.location.search,L=(0,ie.Z)(),ce=L.changeLocale,X=(0,v.useGuidedTour)(),se=X.setSkipped,U=(0,v.useTracking)(),z=U.trackUsage,V=(0,l.useRouteMatch)("/auth/:authType"),b=V.params.authType,B=(0,v.useQuery)(),ne=he()(mt,b,{}),xe=ne.Component,vt=ne.endPoint,yt=ne.fieldsToDisable,gt=ne.fieldsToOmit,jt=ne.inputsPrefix,Ut=ne.schema,nn=(0,ae.Z)(ne,Ve),an=(0,t.useReducer)(ze,we,st),vs=(0,Me.Z)(an,2),Yt=vs[0],on=Yt.formErrors,rn=Yt.modifiedData,ln=Yt.requestError,wt=vs[1],un=Ce.Z.CancelToken,Tt=un.source();(0,t.useEffect)(function(){return function(){Tt.cancel("Component unmounted")}},[]),(0,t.useEffect)(function(){wt({type:"RESET_PROPS"})},[b]);var dn=function(pe){var Q=pe.target,Re=Q.name,q=Q.value;wt({type:"ON_CHANGE",keys:Re,value:q})},cn=function(){var Ge=(0,F.Z)(fe().mark(function pe(Q,Re){var q,Ae,Oe,be;return fe().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(q=Re.setSubmitting,Ae=Re.setErrors,q(!0),Oe=tt()(Q,gt),be="/admin/".concat(vt),b!=="login"){me.next=7;break}return me.next=7,gn(Q,be,{setSubmitting:q,setErrors:Ae});case 7:if(!(b==="register"||b==="register-admin")){me.next=10;break}return me.next=10,pn(Q,be,{setSubmitting:q,setErrors:Ae});case 10:if(b!=="forgot-password"){me.next=13;break}return me.next=13,mn(Oe,be,{setSubmitting:q,setErrors:Ae});case 13:if(b!=="reset-password"){me.next=16;break}return me.next=16,fn(Oe,be,{setSubmitting:q,setErrors:Ae});case 16:case"end":return me.stop()}},pe)}));return function(Q,Re){return Ge.apply(this,arguments)}}(),mn=function(){var Ge=(0,F.Z)(fe().mark(function pe(Q,Re,q){var Ae,Oe;return fe().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Ae=q.setSubmitting,Oe=q.setErrors,Y.prev=1,Y.next=4,(0,Ce.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:Q,cancelToken:Tt.token});case 4:p("/auth/forgot-password-success"),Y.next=11;break;case 7:Y.prev=7,Y.t0=Y.catch(1),_e.error(Y.t0),Oe({errorMessage:"notification.error"});case 11:return Y.prev=11,Ae(!1),Y.finish(11);case 14:case"end":return Y.stop()}},pe,null,[[1,7,11,14]])}));return function(Q,Re,q){return Ge.apply(this,arguments)}}(),gn=function(){var Ge=(0,F.Z)(fe().mark(function pe(Q,Re,q){var Ae,Oe,be,Y,me,Fe,Ke;return fe().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Ae=q.setSubmitting,Oe=q.setErrors,re.prev=1,re.next=4,(0,Ce.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:tt()(Q,gt),cancelToken:Tt.token});case 4:be=re.sent,Y=be.data.data,me=Y.token,Fe=Y.user,Fe.preferedLanguage&&ce(Fe.preferedLanguage),v.auth.setToken(me,Q.rememberMe),v.auth.setUserInfo(Fe,Q.rememberMe),ys(),re.next=23;break;case 14:if(re.prev=14,re.t0=re.catch(1),!re.t0.response){re.next=23;break}if(Ke=he()(re.t0,["response","data","error","message"],"Something went wrong"),it()(Ke).toLowerCase()!=="usernotactive"){re.next=22;break}return p("/auth/oops"),wt({type:"RESET_PROPS"}),re.abrupt("return");case 22:Oe({errorMessage:Ke});case 23:return re.prev=23,Ae(!1),re.finish(23);case 26:case"end":return re.stop()}},pe,null,[[1,14,23,26]])}));return function(Q,Re,q){return Ge.apply(this,arguments)}}(),pn=function(){var Ge=(0,F.Z)(fe().mark(function pe(Q,Re,q){var Ae,Oe,be,Y,me,Fe,Ke,pt,re,Ee;return fe().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return Ae=q.setSubmitting,Oe=q.setErrors,ke.prev=1,z("willCreateFirstAdmin"),ke.next=5,(0,Ce.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:tt()(Q,gt),cancelToken:Tt.token});case 5:if(be=ke.sent,Y=be.data.data,me=Y.token,Fe=Y.user,v.auth.setToken(me,!1),v.auth.setUserInfo(Fe,!1),Ae(!1),i(!0),Ke=Fe.roles,Ke&&(pt=Ke.find(function(hn){var En=hn.code;return En==="strapi-super-admin"}),pt&&(Te.setSkipped(!1),se(!1),z("didLaunchGuidedtour"))),!(b==="register"&&Q.userInfo.news===!0||b==="register-admin"&&Q.news===!0)){ke.next=18;break}return p({pathname:"/usecase",search:"?hasAdmin=".concat(n)}),ke.abrupt("return");case 18:ys(),ke.next=25;break;case 21:ke.prev=21,ke.t0=ke.catch(1),z("didNotCreateFirstAdmin"),ke.t0.response&&(re=ke.t0.response.data,Ee=(0,oe.Z)(re),Oe({apiErrors:Ee}));case 25:case"end":return ke.stop()}},pe,null,[[1,21]])}));return function(Q,Re,q){return Ge.apply(this,arguments)}}(),fn=function(){var Ge=(0,F.Z)(fe().mark(function pe(Q,Re,q){var Ae,Oe,be,Y,me,Fe,Ke,pt;return fe().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ae=q.setErrors,Oe=q.setSubmitting,Ee.prev=1,Ee.next=4,(0,Ce.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:ot(ot({},Q),{},{resetPasswordToken:B.get("code")}),cancelToken:Tt.token});case 4:be=Ee.sent,Y=be.data.data,me=Y.token,Fe=Y.user,v.auth.setToken(me,!1),v.auth.setUserInfo(Fe,!1),p("/"),Ee.next=16;break;case 13:Ee.prev=13,Ee.t0=Ee.catch(1),Ee.t0.response&&(Ke=he()(Ee.t0,["response","data","message"],"Something went wrong"),pt=he()(Ee.t0,["response","data","statusCode"],400),wt({type:"SET_REQUEST_ERROR",errorMessage:Ke,errorStatus:pt}),Ae({errorMessage:Ke}));case 16:return Ee.prev=16,Oe(!1),Ee.finish(16);case 19:case"end":return Ee.stop()}},pe,null,[[1,13,16,19]])}));return function(Q,Re,q){return Ge.apply(this,arguments)}}(),ys=function(){if(b==="login"){var pe=B.get("redirectTo"),Q=pe?decodeURIComponent(pe):"/";p(Q)}else p("/")};return!mt[b]||n&&b==="register-admin"||v.auth.getToken()?t.createElement(l.Redirect,{to:"/"}):!n&&b!=="register-admin"?t.createElement(l.Redirect,{to:{pathname:"/auth/register-admin",search:R}}):t.createElement(xe,(0,D.Z)({},nn,{authType:b,fieldsToDisable:yt,formErrors:on,inputsPrefix:jt,modifiedData:rn,onChange:dn,onSubmit:cn,requestError:ln,schema:Ut}))};Qe.defaultProps={hasAdmin:!1},Qe.propTypes={hasAdmin:o().bool,setHasAdmin:o().func.isRequired};var ee=Qe,Rt=e(53951),Pe=e(83292),Se=e(33348),ue=e(27649),de=e(87933),Le=e(72850),Ye=e(27677),At=e(49372),xt=e(70218),Jt=e(84967),Bt=e(10369),Ct=e(7563),Mt=e(41415),Zt=e(10190),Nt=e(954);const Wt=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Gt=(0,Pe.default)(At.Z)`
  text-align: center;
`;var Ft=()=>{const u=(0,v.useNotification)(),{push:s,location:n}=(0,l.useHistory)(),{formatMessage:i}=(0,ge.useIntl)(),[d,p]=(0,t.useState)(),[R,L]=(0,t.useState)(""),{firstname:ce,email:X}=v.auth.getUserInfo(),{hasAdmin:se}=(0,Se.parse)(n?.search,{ignoreQueryPrefix:!0}),U=d==="other",z=V=>{try{(0,Ce.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:X,username:ce,firstAdmin:Boolean(!se),persona:{role:V?void 0:d,otherRole:V?void 0:R}}}),u({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return t.createElement(Nt.ZP,null,t.createElement(ue.o,{labelledBy:"usecase-title"},t.createElement(Nt.bU,null,t.createElement("form",{onSubmit:()=>z(!1)},t.createElement(de.k,{direction:"column",paddingBottom:7},t.createElement(Zt.Z,null),t.createElement(Le.x,{paddingTop:6,paddingBottom:1,width:(0,v.pxToRem)(250)},t.createElement(Gt,{variant:"alpha",as:"h1",id:"usecase-title"},i({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(Ye.K,{spacing:6},t.createElement(xt.P,{id:"usecase","data-testid":"usecase",label:i({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:p,value:d},Wt.map(({intlLabel:V,value:b})=>t.createElement(Jt.W,{key:b,value:b},i(V)))),U&&t.createElement(Bt.o,{name:"other",label:i({id:"Usecase.other",defaultMessage:"Other"}),value:R,onChange:V=>L(V.target.value),"data-testid":"other"}),t.createElement(Mt.z,{type:"submit",size:"L",fullWidth:!0,disabled:!d},i({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(de.k,{justifyContent:"center"},t.createElement(Le.x,{paddingTop:4},t.createElement(Ct.A,{onClick:()=>z(!0)},i({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))},Xt=e(61605),Kt=async()=>`web-fingerprint-${(await(await Xt.ZP.load()).get()).visitorId}`,Ht=e(15685),_t=[],$t=function(){return window&&window.strapi&&window.strapi.isEE?e(68944).Z:e(56761).Z}(),es=[].concat((0,Ht.Z)($t),(0,Ht.Z)(_t)),St=e(67927);const m=(0,t.lazy)(()=>Promise.all([e.e(3075),e.e(801)]).then(e.bind(e,19782)));function c(){const u=(0,v.useNotification)(),{updateProjectSettings:s}=(0,St.um)(),{formatMessage:n}=(0,ge.useIntl)(),[{isLoading:i,hasAdmin:d,uuid:p,deviceId:R},L]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),ce=(0,v.useAppInfos)(),{get:X}=(0,v.useFetchClient)(),se=(0,t.useMemo)(()=>(0,O.WW)(es.map(({to:B,Component:ne,exact:xe})=>(0,O.ot)(ne,B,xe))),[]),[U,z]=(0,t.useState)(null);(0,t.useEffect)(()=>{const B=v.auth.getToken();B&&(async()=>{try{const{data:{token:xe}}=await(0,v.request)("/admin/renew-token",{method:"POST",body:{token:B}});v.auth.updateToken(xe)}catch{v.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:ne,uuid:xe,menuLogo:vt,authLogo:yt}}}=await Ce.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,v.prefixFileUrlWithBackendUrl)(vt),authLogo:(0,v.prefixFileUrlWithBackendUrl)(yt)});const gt=await Kt();if(xe){const{data:{data:jt}}=await X("/admin/telemetry-properties",{validateStatus:Ut=>Ut<500});z(jt);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:gt,eventPropeties:{},userProperties:{environment:ce.currentEnvironment},groupProperties:{...jt,projectId:xe}}),headers:{"Content-Type":"application/json"}})}catch{}}L({isLoading:!1,hasAdmin:ne,uuid:xe,deviceId:gt})}catch{u({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[u,s]);const V=B=>L(ne=>({...ne,hasAdmin:B})),b=(0,t.useMemo)(()=>({uuid:p,telemetryProperties:U,deviceId:R}),[p,U,R]);return i?t.createElement(v.LoadingIndicatorPage,null):t.createElement(t.Suspense,{fallback:t.createElement(v.LoadingIndicatorPage,null)},t.createElement(qe.z,null,n({id:"skipToContent"})),t.createElement(v.TrackingProvider,{value:b},t.createElement(l.Switch,null,se,t.createElement(l.Route,{path:"/auth/:authType",render:B=>t.createElement(ee,{...B,setHasAdmin:V,hasAdmin:d}),exact:!0}),t.createElement(S,{path:"/usecase",component:Ft}),t.createElement(S,{path:"/",component:m}),t.createElement(l.Route,{path:"",component:Rt.default}))))}var r=c,C=e(47750),k=e(84968),G=e(4409),j=e(66694);const te={menuLogo:null,authLogo:null};var Ze=(u=te,s)=>(0,le.default)(u,n=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(n,s.values);break}default:return n}});const De=({children:u,authLogo:s,menuLogo:n,showReleaseNotification:i,showTutorials:d})=>{const[{menuLogo:p,authLogo:R},L]=(0,t.useReducer)(Ze,te),ce=(0,t.useCallback)(({menuLogo:se,authLogo:U})=>L({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:se||n,authLogo:U||s}}),[s,n]),X=(0,t.useMemo)(()=>({logos:{menu:{custom:p,default:n},auth:{custom:R,default:s}},updateProjectSettings:ce,showReleaseNotification:i,showTutorials:d}),[p,n,R,s,ce,i,d]);return t.createElement(j._5.Provider,{value:X},u)};De.propTypes={authLogo:o().string.isRequired,children:o().element.isRequired,menuLogo:o().string.isRequired,showReleaseNotification:o().bool.isRequired,showTutorials:o().bool.isRequired};var Je=De,et=e(58732),rt=e.n(et),ht=e(5985);const Et=({changeLocale:u,children:s,localeNames:n,messages:i})=>t.createElement(ht.Z.Provider,{value:{changeLocale:u,localeNames:n,messages:i}},s);Et.propTypes={changeLocale:o().func.isRequired,children:o().element.isRequired,localeNames:o().object.isRequired,messages:o().object.isRequired};var Lt=Et,Ne="strapi-admin-language",Xe=u=>{const s=window.localStorage.getItem(Ne);return{locale:u[s]?s:"en",localeNames:u}};const We={localeNames:{en:"English"},locale:"en"};var Rs=(u=We,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:n}=s;return u.localeNames[n]?{...u,locale:n}:u}default:return u}};const ts=({children:u,localeNames:s,messages:n})=>{const[{locale:i},d]=(0,t.useReducer)(Rs,We,()=>Xe(s));(0,t.useEffect)(()=>{window.localStorage.setItem(Ne,i),document.documentElement.setAttribute("lang",i)},[i]);const p=L=>{d({type:"CHANGE_LOCALE",locale:L})},R=rt()(n[i],n.en);return t.createElement(ge.IntlProvider,{locale:i,defaultLocale:"en",messages:R,textComponent:"span"},t.createElement(Lt,{changeLocale:p,localeNames:s,messages:R},u))};ts.propTypes={children:o().element.isRequired,localeNames:o().objectOf(o().string).isRequired,messages:o().object.isRequired};var As=ts,Cs=(u,s)=>{const n=Object.entries(s),i=n.findIndex(([p])=>p===u);return n.slice(0,i).every(([,p])=>Object.values(p).every(Boolean))},Ms=(u,s)=>{const n=u.split("."),i=n[1],d=Object.entries(s[n[0]]),p=d.findIndex(([L])=>L===i);return d.slice(0,p).every(([,L])=>L)};const ss={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0};var Ss=(u=ss,s)=>(0,le.default)(u,n=>{switch(s.type){case"SET_CURRENT_STEP":{n.currentStep=s.step;break}case"SET_STEP_STATE":{const[i,d]=s.currentStep.split(".");n.guidedTourState[i][d]=s.value;break}case"SET_SKIPPED":{n.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{n.isGuidedTourVisible=s.value;break}default:return n}}),Ls=e(3040),zt=e.n(Ls),Ds=u=>{const s={...u},n=Te.get(nt),i=Te.get(He),d=Te.get(ut);if(n&&n.forEach(p=>{const[R,L]=p.split(".");zt()(s,["guidedTourState",R,L],!0)}),i){const[p,R]=i.split(".");zt()(s,["guidedTourState",p,R],!0),Te.addCompletedStep(i),Te.addCurrentStep(null)}return d!==null&&zt()(s,"isSkipped",d),s};const ns=({children:u})=>{const[{currentStep:s,guidedTourState:n,isGuidedTourVisible:i,isSkipped:d},p]=(0,t.useReducer)(Ss,ss,Ds),R=U=>{if(U!==null){const z=he()(n,U),V=Ms(U,n);if(z||d||!V)return null}return Te.addCurrentStep(U),p({type:"SET_CURRENT_STEP",step:U})},L=U=>{p({type:"SET_GUIDED_TOUR_VISIBILITY",value:U})},ce=(U,z)=>{Te.addCompletedStep(U),p({type:"SET_STEP_STATE",currentStep:U,value:z})},X=U=>{const z=n[U];if(z){const V=Cs(U,n),b=Object.keys(z)[0],B=z[b];if(V&&!s&&!B)return R(`${U}.${b}`)}return null},se=U=>{Te.setSkipped(U),p({type:"SET_SKIPPED",value:U})};return t.createElement(v.GuidedTourProvider,{guidedTourState:n,currentStep:s,setCurrentStep:R,setGuidedTourVisibility:L,setSkipped:se,setStepState:ce,startSection:X,isGuidedTourVisible:i,isSkipped:d},u)};ns.propTypes={children:o().element.isRequired};var Os=ns,as=e(12788),bs=e(72536),Is=e(44647),os=e(41502);const ks=(0,Pe.default)(Le.x)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:u})=>u.colors.neutral0};
    opacity: 0.9;
  }
`,js=(0,Pe.default)(Ye.K)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,v.pxToRem)(160)};
`,rs=(0,Pe.default)(Le.x)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:u})=>u.colors.primary600} !important;
    }
  }
`,bt=document.createElement("div"),Us="autoReloadOverlayBlocker";bt.setAttribute("id",Us);const ws=Pe.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,xs=(0,Pe.default)(Is.Z)`
  animation: ${ws} 1s infinite linear;
`,is=({displayedIcon:u,description:s,title:n,isOpen:i})=>{const{formatMessage:d}=(0,ge.useIntl)();return(0,t.useEffect)(()=>(document.body.appendChild(bt),()=>{document.body.removeChild(bt)}),[]),i?as.createPortal(t.createElement(ks,null,t.createElement(js,{spacing:6},t.createElement(Ye.K,{spacing:2},t.createElement(de.k,{justifyContent:"center"},t.createElement(At.Z,{as:"h1",variant:"alpha"},d(n))),t.createElement(de.k,{justifyContent:"center"},t.createElement(At.Z,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},d(s)))),t.createElement(de.k,{justifyContent:"center"},u==="reload"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(xs,{width:(0,v.pxToRem)(36),height:(0,v.pxToRem)(36)})),u==="time"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(bs.Z,{width:(0,v.pxToRem)(40),height:(0,v.pxToRem)(40)}))),t.createElement(de.k,{justifyContent:"center"},t.createElement(Le.x,{paddingTop:2},t.createElement(os.r,{href:"https://docs.strapi.io",isExternal:!0},d({id:"global.documentation",defaultMessage:"Read the documentation"})))))),bt):null};is.propTypes={displayedIcon:o().oneOfType([o().string,o().array]).isRequired,description:o().object.isRequired,isOpen:o().bool.isRequired,title:o().object.isRequired};var Bs=is;const ls=30,us=({children:u})=>{const[s,n]=(0,t.useState)(!1),[{elapsed:i},d]=(0,t.useState)({elapsed:0,start:0}),[p,R]=(0,t.useState)(void 0),L=(B=void 0)=>{n(!0),R(B),d(ne=>({...ne,start:Date.now()}))},ce=()=>{n(!1),d({start:0,elapsed:0}),R(void 0)},X=(0,t.useRef)(L),se=(0,t.useRef)(ce);(0,t.useEffect)(()=>{let B=null;return s?B=setInterval(()=>i>ls?(clearInterval(B),null):(d(ne=>({...ne,elapsed:Math.round(Date.now()-ne.start)/1e3})),null),1e3):clearInterval(B),()=>{clearInterval(B)}},[s,i]);let U=p?.icon||"reload",z={id:p?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},V={id:p?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};i>ls&&(U="time",z={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},V={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const b=(0,t.useMemo)(()=>({lockApp:X.current,unlockApp:se.current}),[X,se]);return t.createElement(v.AutoReloadOverlayBockerContext.Provider,{value:b},t.createElement(Bs,{displayedIcon:U,isOpen:s,description:z,title:V}),u)};us.propTypes={children:o().element.isRequired};var Zs=us,Ns=e(67719);const Vt=({dispatch:u,notification:s})=>{const{formatMessage:n}=(0,ge.useIntl)(),{message:i,link:d,type:p,id:R,onClose:L,timeout:ce,blockTransition:X,title:se}=s,U=B=>typeof B=="string"?B:n(B,B.values),z=(0,t.useCallback)(()=>{L&&L(),u({type:"HIDE_NOTIFICATION",id:R})},[R]);(0,t.useEffect)(()=>{let B;return X||(B=setTimeout(()=>{z()},ce||2500)),()=>clearTimeout(B)},[X,z,ce]);let V,b;return p==="info"?(V="default",b=n({id:"notification.default.title",defaultMessage:"Information:"})):p==="warning"?(V="danger",b=n({id:"notification.warning.title",defaultMessage:"Warning:"})):p==="softWarning"?(V="warning",b=n({id:"notification.warning.title",defaultMessage:"Warning:"})):(V="success",b=n({id:"notification.success.title",defaultMessage:"Success:"})),se&&(b=typeof se=="string"?se:n(se)),t.createElement(Ns.b,{action:d?t.createElement(os.r,{href:d.url,isExternal:!0},n({id:d.label?.id||d.label,defaultMessage:d.label?.defaultMessage||d.label?.id||d.label})):void 0,onClose:z,closeLabel:"Close",title:b,variant:V},U({id:i?.id||i,defaultMessage:i?.defaultMessage||i?.id||i,values:i?.values}))};Vt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Vt.propTypes={dispatch:o().func.isRequired,notification:o().shape({id:o().number,message:o().oneOfType([o().string,o().shape({id:o().string.isRequired,defaultMessage:o().string,values:o().object})]),link:o().shape({target:o().string,url:o().string.isRequired,label:o().oneOfType([o().string,o().shape({id:o().string.isRequired,defaultMessage:o().string,values:o().object})]).isRequired}),type:o().string,onClose:o().func,timeout:o().number,blockTransition:o().bool,title:o().oneOfType([o().string,o().shape({id:o().string.isRequired,defaultMessage:o().string,values:o().object})])})};var Ws=Vt;const ds={notifId:0,notifications:[]};var Gs=(u=ds,s)=>(0,le.default)(u,n=>{switch(s.type){case"SHOW_NOTIFICATION":{n.notifications.push({id:u.notifId,type:he()(s,["config","type"],"success"),message:he()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:he()(s,["config","link"],null),timeout:he()(s,["config","timeout"],2500),blockTransition:he()(s,["config","blockTransition"],!1),onClose:he()(s,["config","onClose"],null),title:he()(s,["config","title"],null)}),n.notifId=u.notifId+1;break}case"HIDE_NOTIFICATION":{const i=u.notifications.findIndex(d=>d.id===s.id);i!==-1&&n.notifications.splice(i,1);break}default:return n}});const cs=({children:u})=>{const[{notifications:s},n]=(0,t.useReducer)(Gs,ds),i=d=>{n({type:"SHOW_NOTIFICATION",config:d})};return t.createElement(v.NotificationsProvider,{toggleNotification:i},t.createElement(Ye.K,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(d=>t.createElement(Ws,{key:d.id,dispatch:n,notification:d}))),u)};cs.propTypes={children:o().element.isRequired};var Fs=cs;const It=document.createElement("div");It.setAttribute("id","overlayBlocker");const Ks=Pe.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ms=({isOpen:u})=>((0,t.useEffect)(()=>(document.body.appendChild(It),()=>{document.body.removeChild(It)}),[]),u?as.createPortal(t.createElement(Ks,null),It):null);ms.propTypes={isOpen:o().bool.isRequired};const gs=({children:u})=>{const[s,n]=(0,t.useState)(!1),i=()=>{n(!0)},d=()=>{n(!1)};return t.createElement(v.OverlayBlockerContext.Provider,{value:{lockApp:i,unlockApp:d}},u,t.createElement(ms,{isOpen:s}))};gs.propTypes={children:o().node.isRequired};var Hs=gs;const Qt="STRAPI_THEME",$s=()=>{const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Qt);return s||localStorage.setItem(Qt,u),s||u},ps=({children:u,themes:s})=>{const[n,i]=(0,t.useState)($s()),d=(0,t.useCallback)(R=>{i(R),localStorage.setItem(Qt,R)},[i]),p=(0,t.useMemo)(()=>({currentTheme:n,onChangeTheme:d,themes:s}),[n,d,s]);return t.createElement(j.Rj.Provider,{value:p},u)};ps.propTypes={children:o().node.isRequired,themes:o().shape({light:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,dark:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,custom:o().object}).isRequired};var zs=ps,Vs=e(86861),Qs=Pe.createGlobalStyle`
  body {
    background: ${({theme:u})=>u.colors.neutral100};
  }
`;const fs=({children:u})=>{const{currentTheme:s,themes:n}=(0,St.M1)();return t.createElement(Vs.f,{theme:n[s]||n.light},u,t.createElement(Qs,null))};fs.propTypes={children:o().element.isRequired};var Ys=fs;const Js=new k.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),hs=({authLogo:u,children:s,components:n,customFields:i,fields:d,getAdminInjectedComponents:p,getPlugin:R,localeNames:L,menu:ce,menuLogo:X,messages:se,plugins:U,runHookParallel:z,runHookSeries:V,runHookWaterfall:b,settings:B,showReleaseNotification:ne,showTutorials:xe,store:vt,themes:yt})=>t.createElement(zs,{themes:yt},t.createElement(Ys,null,t.createElement(k.QueryClientProvider,{client:Js},t.createElement(G.Provider,{store:vt},t.createElement(j.ux.Provider,{value:{getAdminInjectedComponents:p}},t.createElement(Je,{authLogo:u,menuLogo:X,showReleaseNotification:ne,showTutorials:xe},t.createElement(v.StrapiAppProvider,{getPlugin:R,menu:ce,plugins:U,runHookParallel:z,runHookWaterfall:b,runHookSeries:V,settings:B},t.createElement(v.LibraryProvider,{components:n,fields:d},t.createElement(v.CustomFieldsProvider,{customFields:i},t.createElement(As,{messages:se,localeNames:L},t.createElement(Zs,null,t.createElement(Hs,null,t.createElement(Os,null,t.createElement(Fs,null,s))))))))))))));hs.propTypes={authLogo:o().oneOfType([o().string,o().any]).isRequired,children:o().element.isRequired,components:o().object.isRequired,customFields:o().object.isRequired,fields:o().object.isRequired,getAdminInjectedComponents:o().func.isRequired,getPlugin:o().func.isRequired,localeNames:o().objectOf(o().string).isRequired,menu:o().arrayOf(o().shape({to:o().string.isRequired,icon:o().func.isRequired,intlLabel:o().shape({id:o().string.isRequired,defaultMessage:o().string.isRequired}).isRequired,permissions:o().array,Component:o().func})).isRequired,menuLogo:o().oneOfType([o().string,o().any]).isRequired,messages:o().object.isRequired,plugins:o().object.isRequired,runHookParallel:o().func.isRequired,runHookWaterfall:o().func.isRequired,runHookSeries:o().func.isRequired,settings:o().object.isRequired,showReleaseNotification:o().bool.isRequired,showTutorials:o().bool.isRequired,store:o().object.isRequired,themes:o().shape({light:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,dark:o().shape({colors:o().object.isRequired,shadows:o().object.isRequired,sizes:o().object.isRequired,zIndices:o().array.isRequired,spaces:o().array.isRequired,borderRadius:o().string.isRequired,mediaQueries:o().object.isRequired,fontSizes:o().array.isRequired,lineHeights:o().array.isRequired,fontWeights:o().object.isRequired}).isRequired,custom:o().object}).isRequired};var Xs=hs,qs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"},kt=e(70836),_s={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},en="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=",Es=e(98399);class tn{constructor({adminConfig:s,appPlugins:n,library:i,middlewares:d,reducers:p}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:C,head:{favicon:en},locales:["en"],menuLogo:C,notifications:{releases:!0},themes:{light:a.W,dark:y.$},translations:{},tutorials:!0},this.appPlugins=n||{},this.library=i,this.middlewares=d,this.plugins={},this.reducers=p,this.translations={},this.hooksDict={},this.admin={injectionZones:_s},this.customFields=H.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(n=>this.library.components.add(n)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const n=JSON.stringify(s);f()(s.to,`link.to should be defined for ${n}`),f()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),f()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),f()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(n=>this.library.fields.add(n)):this.library.fields.add(s)};addMenuLink=s=>{const n=JSON.stringify(s);f()(s.to,`link.to should be defined for ${n}`),f()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),f()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),f()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),f()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(n=>{this.middlewares.add(n)})};addReducers=s=>{Object.keys(s).forEach(n=>{this.reducers.add(n,s[n])})};addSettingsLink=(s,n)=>{f()(this.settings[s],"The section does not exist");const i=JSON.stringify(n);f()(n.id,`link.id should be defined for ${i}`),f()(n.intlLabel?.id&&n.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${i}`),f()(n.to,`link.to should be defined for ${i}`),f()(n.Component&&typeof n.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(n)};addSettingsLinks=(s,n)=>{f()(this.settings[s],"The section does not exist"),f()(Array.isArray(n),"TypeError expected links to be an array"),n.forEach(i=>{this.addSettingsLink(s,i)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const n=this.appPlugins[s].bootstrap;n&&n({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),J()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(kt.No),this.createHook(kt.LK),this.createHook(kt.dV),this.createHook(kt.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,n=this.customConfigurations.theme.light;!s&&!n&&(Es.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),g()(this.configurations.themes.light,this.customConfigurations.theme)),n&&g()(this.configurations.themes.light,n),s&&g()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=(0,N.Bi)()};createSettingSection=(s,n)=>{f()(s.id,"section.id should be defined"),f()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),f()(Array.isArray(n),"TypeError expected links to be an array"),f()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},n.forEach(i=>{this.addSettingsLink(s.id,i)})};createStore=()=>_(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,n,i)=>{try{return this.admin.injectionZones[s][n][i]||[]}catch(d){return Es.error("Cannot get injected component",d),d}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,n,i)=>{f()(this.admin.injectionZones.contentManager[s]?.[n],`The ${s} ${n} zone is not defined in the content manager`),f()(i,"A Component must be provided"),this.admin.injectionZones.contentManager[s][n].push(i)};injectAdminComponent=(s,n,i)=>{f()(this.admin.injectionZones.admin[s]?.[n],`The ${s} ${n} zone is not defined in the admin`),f()(i,"A Component must be provided"),this.admin.injectionZones.admin[s][n].push(i)};async loadAdminTrads(){const s=this.configurations.locales.map(d=>e(48224)(`./${d}.json`).then(({default:p})=>({data:p,locale:d})).catch(()=>({data:null,locale:d})));return(await Promise.all(s)).reduce((d,p)=>(p.data&&(d[p.locale]=p.data),d),{})}async loadTrads(){const s=await this.loadAdminTrads(),n=Object.keys(this.appPlugins).map(R=>{const L=this.appPlugins[R].registerTrads;return L?L({locales:this.configurations.locales}):null}).filter(R=>R),d=(await Promise.all(n)).reduce((R,L)=>{const ce=L.reduce((X,se)=>(X[se.locale]=se.data,X),{});return Object.keys(ce).forEach(X=>{R[X]={...R[X],...ce[X]}}),R},{}),p=this.configurations.locales.reduce((R,L)=>(R[L]={...s[L],...d[L]||{},...this.customConfigurations?.translations?.[L]},R),{});return this.configurations.translations=p,Promise.resolve()}registerHook=(s,n)=>{f()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(n)};registerPlugin=s=>{const n=(0,H.Sy)(s);this.plugins[n.pluginId]=n};runHookSeries=(s,n=!1)=>n?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,n,i=!1,d)=>i?this.hooksDict[s].runWaterfallAsync(n,d):this.hooksDict[s].runWaterfall(n,d);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),n=W()(qs,this.configurations.locales||[]),{components:{components:i},fields:{fields:d}}=this.library;return t.createElement(Xs,{authLogo:this.configurations.authLogo,components:i,fields:d,customFields:this.customFields,localeNames:n,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(p,R,L=!1)=>this.runHookWaterfall(p,R,L,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},t.createElement(t.Fragment,null,t.createElement(M.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(Ne)||"en"}}),t.createElement(l.BrowserRouter,{basename:N.EZ},t.createElement(r,{store:s}))))}}var sn=({adminConfig:u={},appPlugins:s,library:n,middlewares:i,reducers:d})=>new tn({adminConfig:u,appPlugins:s,library:n,middlewares:i,reducers:d})},5985:function(x,h,e){"use strict";var t=e(32735);const l=(0,t.createContext)();h.Z=l},20139:function(x,h,e){"use strict";var t=e(32735),l=e(5985);const a=()=>{const{changeLocale:y,localeNames:E,messages:g}=(0,t.useContext)(l.Z);return{changeLocale:y,localeNames:E,messages:g}};h.Z=a},10190:function(x,h,e){"use strict";var t=e(32735),l=e(83292),a=e(67927);const y=l.default.img`
  height: ${72/16}rem;
`,E=()=>{const{logos:{auth:g}}=(0,a.um)();return t.createElement(y,{src:g?.custom??g.default,"aria-hidden":!0,alt:""})};h.Z=E},66694:function(x,h,e){"use strict";e.d(h,{ux:function(){return a},_5:function(){return E},$l:function(){return P},Rj:function(){return Z}});var t=e(32735),a=(0,t.createContext)({}),E=(0,t.createContext)({}),P=(0,t.createContext)({}),Z=(0,t.createContext)({})},70836:function(x,h,e){"use strict";e.d(h,{Eo:function(){return a},LK:function(){return l},No:function(){return t},dV:function(){return y}});const t="Admin/CM/pages/ListView/inject-column-in-table",l="Admin/CM/pages/App/mutate-collection-types-links",a="Admin/CM/pages/EditView/mutate-edit-view-layout",y="Admin/CM/pages/App/mutate-single-types-links"},67927:function(x,h,e){"use strict";e.d(h,{um:function(){return y},U_:function(){return T},Dq:function(){return qe},H9:function(){return he},bP:function(){return w},$_:function(){return qt},rW:function(){return St},bF:function(){return ie},G4:function(){return Ft},Te:function(){return Bt},M1:function(){return $t}});var t=e(32735),l=e(66694),y=()=>(0,t.useContext)(l._5),E=e(88425),g=e(97889);const P={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]};var Z=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_MODELS":{r.collectionTypes=P.collectionTypes,r.singleTypes=P.singleTypes,r.components=P.components,r.isLoading=!0;break}case"GET_MODELS_ERROR":{r.collectionTypes=P.collectionTypes,r.singleTypes=P.singleTypes,r.components=P.components,r.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const C=k=>c.contentTypes.filter(G=>G.isDisplayed&&G.kind===k);r.isLoading=!1,r.collectionTypes=C("collectionType"),r.singleTypes=C("singleType"),r.components=c.components;break}default:return r}}),w=()=>{const m=(0,E.useNotification)(),[c,r]=(0,t.useReducer)(Z,P);(0,t.useEffect)(()=>{C()},[]);const C=async()=>{r({type:"GET_MODELS"});try{const[{data:k},{data:G}]=await Promise.all(["components","content-types"].map(j=>(0,E.request)(`/content-manager/${j}`,{method:"GET"})));r({type:"GET_MODELS_SUCCEDED",contentTypes:G,components:k})}catch{r({type:"GET_MODELS_ERROR"}),m({type:"warning",message:{id:"notification.error"}})}};return{...c,getData:C}};const f={data:{},error:null,isLoading:!0};var N=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA":{r.isLoading=!0,r.data={},r.error=null;break}case"GET_DATA_SUCCEEDED":{r.data=c.data,r.isLoading=!1,r.error=null;break}case"GET_DATA_ERROR":{r.isLoading=!1,r.error=c.error;break}default:return r}}),T=m=>{const[{data:c,error:r,isLoading:C},k]=(0,t.useReducer)(N,f);return(0,t.useEffect)(()=>{(async()=>{k({type:"GET_DATA"});const{data:j}=await(0,E.request)("/admin/permissions",{method:"GET",params:{role:m}});k({type:"GET_DATA_SUCCEEDED",data:j})})()},[m]),{data:c,error:r,isLoading:C}};const I={role:{},permissions:{},isLoading:!0};var H=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA_SUCCEEDED":{r.role=c.role,r.permissions=c.permissions,r.isLoading=!1;break}case"GET_DATA_ERROR":{r.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{r.role.name=c.name,r.role.description=c.description;break}default:return r}}),v=e(98399),qe=m=>{const c=(0,E.useNotification)(),[r,C]=(0,t.useReducer)(H,I);(0,t.useEffect)(()=>{m?k(m):C({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[m]);const k=async j=>{try{const[{data:te},{data:Be}]=await Promise.all([`roles/${j}`,`roles/${j}/permissions`].map(Ze=>(0,E.request)(`/admin/${Ze}`,{method:"GET"})));C({type:"GET_DATA_SUCCEEDED",role:te,permissions:Be})}catch(te){v.error(te),C({type:"GET_DATA_ERROR"}),c({type:"warning",message:{id:"notification.error"}})}},G=(0,t.useCallback)(j=>{C({type:"ON_SUBMIT_SUCCEEDED",...j})},[]);return{...r,onSubmitSucceeded:G}},je=(m,c)=>c.map(({permissions:r})=>(0,E.hasPermissions)(m,r)),ve=async(m,c)=>{const r=je(m,c),C=await Promise.all(r);return c.filter((G,j)=>C[j])},S=e(99381),O=e.n(S),ye=async(m,c,r)=>{const C=je(m,c),k=await Promise.all(C),G=c.filter((Be,Ze)=>k[Ze]),j=G.findIndex(Be=>Be.to==="/settings");if(j===-1)return[];const te=O()(G);return te[j].notificationsCount=r?1:0,te},F=e(45112),Me=e(2287),ae=e(36919),$=e(83983);const fe={generalSectionLinks:[{icon:Me.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:$.Z.marketplace.main},{icon:ae.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:$.Z.marketplace.main},{icon:F.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0};var it=(m=fe,c)=>(0,g.default)(m,r=>{switch(c.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:C,authorizedPluginSectionLinks:k}=c.data;r.generalSectionLinks=C,r.pluginsSectionLinks=k;break}case"UNSET_IS_LOADING":{r.isLoading=!1;break}default:return r}}),he=()=>{const[m,c]=(0,t.useReducer)(it,fe),{allPermissions:r}=(0,E.useRBACProvider)(),{shouldUpdateStrapi:C}=(0,E.useAppInfos)(),{menu:k}=(0,E.useStrapiApp)(),G=(0,t.useRef)(m.generalSectionLinks),j=(0,t.useRef)(C),te=async(Ze=r)=>{const Je=await ve(Ze,k),et=await ye(Ze,G.current,j.current);c({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:et,authorizedPluginSectionLinks:Je}}),c({type:"UNSET_IS_LOADING"})},Be=(0,t.useRef)(te);return(0,t.useEffect)(()=>{Be.current(r)},[r,c]),m},lt=e(33795),tt=e.n(lt),He=e(17247),ut=(m,c)=>({...m,isLoading:c});const at={roles:[],isLoading:!0};var K=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA":{r.isLoading=!0,r.roles=[];break}case"GET_DATA_SUCCEEDED":{r.roles=c.data,r.isLoading=!1;break}case"GET_DATA_ERROR":{r.isLoading=!1;break}default:return r}}),ie=(m=!0)=>{const c=(0,E.useNotification)(),[{roles:r,isLoading:C},k]=(0,t.useReducer)(K,at,()=>ut(at,m));(0,t.useEffect)(()=>{m&&G()},[m]);const G=(0,t.useCallback)(async()=>{try{k({type:"GET_DATA"});const{data:{data:j}}=await He.be.get("/admin/roles");k({type:"GET_DATA_SUCCEEDED",data:j})}catch(j){const te=tt()(j,["response","payload","message"],"An error occured");k({type:"GET_DATA_ERROR"}),te!=="Forbidden"&&c({type:"warning",message:te})}},[c]);return{roles:r,isLoading:C,getData:G}},oe=e(92891);const Ue={menu:[],isLoading:!0};var le=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"CHECK_PERMISSIONS_SUCCEEDED":{c.data.forEach(C=>{C.hasPermission&&(0,oe.set)(r,["menu",...C.path.split("."),"isDisplayed"],C.hasPermission)}),r.menu.forEach((C,k)=>{r.menu[k].links=C.links.filter(G=>G.isDisplayed===!0)}),r.isLoading=!1;break}default:return r}}),$e=e(9086),we=e.n($e),ze=e(98978),_e=e.n(ze),ct=m=>_e()(m,c=>c.id),mt=m=>m.map(c=>{const r=c.links.map(C=>({...C,isDisplayed:!1}));return{...c,links:r}}),Qe=e(15685),Rt=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:$.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:$.Z.settings.users.main}],Pe=function(){return window&&window.strapi&&window.strapi.isEE?e(66334).Z:e(47950).Z}(),Se=[].concat((0,Qe.Z)(Pe),(0,Qe.Z)(Rt)),de=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:$.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:$.Z.settings["api-tokens"].main}],Le=function(){return window&&window.strapi&&window.strapi.isEE?e(11545).Z:e(73086).Z}(),Ye=[].concat((0,Qe.Z)(de),(0,Qe.Z)(Le)),xt=(m,{settings:c,shouldUpdateStrapi:r})=>{const C=c.global.links,k=ct([...C,...Ye]).map(te=>({...te,hasNotification:te.id==="000-application-infos"&&r})),G=Object.values(we()(c,"global")),j=[{...c.global,links:k},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:Se},...G];return{...m,menu:mt(j)}},Bt=(m=!1)=>{const{allPermissions:c}=(0,E.useRBACProvider)(),{shouldUpdateStrapi:r}=(0,E.useAppInfos)(),{settings:C}=(0,E.useStrapiApp)(),[{isLoading:k,menu:G},j]=(0,t.useReducer)(le,Ue,()=>xt(Ue,{settings:C,shouldUpdateStrapi:r}));return(0,t.useEffect)(()=>{m||(async()=>{const Be=async(et,rt)=>({hasPermission:await(0,E.hasPermissions)(c,et),path:rt}),De=(et=>et.reduce((rt,ht,Et)=>{const Lt=Dt=>Dt.map((Ne,Ie)=>Be(Dt[Ie].permissions,`${Et}.links.${Ie}`));return[...rt,...Lt(ht.links)]},[]))(G),Je=await Promise.all(De);j({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Je})})()},[c,m]),{isLoading:k,menu:G}},Ct=e(64421);const Mt={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Zt=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA_SUCCEEDED":{r.isLoading=!1,r.showHeaderLoader=!1,r.initialData=(0,oe.pick)(c.data,m.fieldsToPick),r.modifiedData=(0,oe.pick)(c.data,m.fieldsToPick);break}case"ON_CANCEL":{r.modifiedData=m.initialData,r.formErrors={};break}case"ON_CHANGE":{c.inputType==="password"&&!c.value?(0,oe.unset)(r.modifiedData,c.keys.split(".")):c.keys.includes("username")&&!c.value?(0,oe.set)(r.modifiedData,c.keys.split("."),null):(0,oe.set)(r.modifiedData,c.keys.split("."),c.value);break}case"ON_SUBMIT":{r.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{r.initialData=(0,oe.pick)(c.data,m.fieldsToPick),r.modifiedData=(0,oe.pick)(c.data,m.fieldsToPick),r.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{r.formErrors=c.errors,r.showHeaderButtonLoader=!1;break}default:return r}});var Wt=(m,c)=>({...m,fieldsToPick:c}),Gt=e(98399),Ft=(m,c,r,C)=>{const[{formErrors:k,initialData:G,isLoading:j,modifiedData:te,showHeaderButtonLoader:Be,showHeaderLoader:Ze},De]=(0,t.useReducer)(Zt,Mt,()=>Wt(Mt,C)),Je=(0,E.useNotification)(),{lockApp:et,unlockApp:rt}=(0,E.useOverlayBlocker)();return(0,t.useEffect)(()=>{m&&(async()=>{try{const{data:Ie}=await(0,E.request)(m,{method:"GET"});De({type:"GET_DATA_SUCCEEDED",data:Ie,fieldsToPick:C})}catch(Ie){Gt.error(Ie.response),Je({type:"warning",message:{id:"notification.error"}})}})()},[m]),[{formErrors:k,initialData:G,isLoading:j,modifiedData:te,showHeaderButtonLoader:Be,showHeaderLoader:Ze},De,{handleCancel:()=>{De({type:"ON_CANCEL"})},handleChange:({target:{name:Ne,value:Ie,type:Xe}})=>{De({type:"ON_CHANGE",inputType:Xe,keys:Ne,value:Ie})},handleSubmit:async Ne=>{Ne.preventDefault();const Ie=await(0,Ct.R6)(te,c);if(De({type:"SET_ERRORS",errors:Ie||{}}),!Ie)try{et(),De({type:"ON_SUBMIT"});const Xe=(0,oe.omit)(te,["confirmPassword","registrationToken"]);Xe.roles&&(Xe.roles=Xe.roles.map(Ot=>Ot.id));const{data:We}=await(0,E.request)(m,{method:"PUT",body:Xe});r(We),De({type:"ON_SUBMIT_SUCCEEDED",data:We}),Je({type:"success",message:{id:"notification.success.saved"}})}catch(Xe){const We=(0,oe.get)(Xe,"response.payload",{data:{}});(0,oe.has)(We,"data")&&typeof We.data=="string"?Je({type:"warning",message:We.data}):Je({type:"warning",message:We.message});const Ot=(0,Ct.Iz)(We);De({type:"SET_ERRORS",errors:Ot})}finally{rt()}},setField:(Ne,Ie)=>{De({type:"ON_CHANGE",keys:Ne,value:Ie})}}]},qt=()=>(0,t.useContext)(l.$l);const Kt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Ht=()=>{const{latestStrapiReleaseTag:m,shouldUpdateStrapi:c}=useAppInfos(),r=useNotification();return useEffect(()=>{c&&Kt&&r({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${m}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[m,c,r]),null};var Ps=null,$t=()=>(0,t.useContext)(l.Rj),St=(m,c)=>{const[r,C]=(0,t.useState)(!1),k=(0,E.useNotification)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:j}}}=await He.be.post(`/admin/api-tokens/${m}/regenerate`);C(!1),c(j)}catch(j){C(!1),k({type:"warning",message:(0,oe.get)(j,"response.data.message","notification.error")})}},isLoadingConfirmation:r}}},47950:function(x,h){"use strict";h.Z=[]},73086:function(x,h){"use strict";h.Z=[]},954:function(x,h,e){"use strict";e.d(h,{sg:function(){return M},bU:function(){return N},ZP:function(){return T}});var t=e(32735),l=e(83292),a=e(60216),y=e.n(a),E=e(72850),g=e(87933),P=e(5636),W=e(46788),Z=e(20139),w=()=>{const{changeLocale:I,localeNames:_}=(0,Z.Z)(),{locale:H}=(0,P.useIntl)();return t.createElement(W.O,{label:_[H]},Object.keys(_).map(v=>t.createElement(W.s,{onClick:()=>I(v),key:v},_[v])))};const f=(0,l.default)(E.x)`
  margin: 0 auto;
  width: 552px;
`,M=(0,l.default)(g.k)`
  flex-direction: column;
`,N=({children:I})=>t.createElement(f,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},I);N.propTypes={children:y().node.isRequired};const A=({children:I})=>t.createElement("div",null,t.createElement(g.k,{as:"header",justifyContent:"flex-end"},t.createElement(E.x,{paddingTop:6,paddingRight:8},t.createElement(w,null))),t.createElement(E.x,{paddingTop:2,paddingBottom:11},I));A.propTypes={children:y().node.isRequired};var T=A},56761:function(x,h){"use strict";const e=[];h.Z=e},72218:function(x,h,e){"use strict";var t=e(83292),l=e(63642);const a=(0,t.default)(l.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:y})=>y.colors.neutral600};
    }
  }
`;h.Z=a},1115:function(x,h,e){"use strict";var t=e(32735),l=e(88425),a=e.n(l),y=e(60492),E=e(54894),g=e(72850),P=e(27677),W=e(27649),Z=e(87933),J=e(41415),w=e(10369),f=e(8284),M=e(49372),N=e(60216),A=e.n(N),T=e(5636),I=e(83292),_=e(83281),H=e(954),v=e(10190),Ce=e(72218);const qe=(0,I.default)(w.o)`
  ::-ms-reveal {
    display: none;
  }
`,ge=({onSubmit:je,schema:o,children:ve})=>{const[S,O]=(0,t.useState)(!1),{formatMessage:D}=(0,T.useIntl)();return t.createElement(W.o,null,t.createElement(H.bU,null,t.createElement(_.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:je,validationSchema:o,validateOnChange:!1},({values:ye,errors:F,handleChange:Me})=>t.createElement(l.Form,{noValidate:!0},t.createElement(H.sg,null,t.createElement(v.Z,null),t.createElement(g.x,{paddingTop:6,paddingBottom:1},t.createElement(M.Z,{variant:"alpha",as:"h1"},D({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(g.x,{paddingBottom:7},t.createElement(M.Z,{variant:"epsilon",textColor:"neutral600"},D({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),F.errorMessage&&t.createElement(M.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},F.errorMessage)),t.createElement(P.K,{spacing:6},t.createElement(w.o,{error:F.email?D({id:F.email,defaultMessage:"This value is required."}):"",value:ye.email,onChange:Me,label:D({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:D({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(qe,{error:F.password?D({id:F.password,defaultMessage:"This value is required."}):"",onChange:Me,value:ye.password,label:D({id:"global.password",defaultMessage:"Password"}),name:"password",type:S?"text":"password",endAction:t.createElement(Ce.Z,{onClick:ae=>{ae.stopPropagation(),O($=>!$)},label:D(S?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},S?t.createElement(E.default,null):t.createElement(y.default,null)),required:!0}),t.createElement(f.X,{onValueChange:ae=>{Me({target:{value:ae,name:"rememberMe"}})},value:ye.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},D({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(J.z,{fullWidth:!0,type:"submit"},D({id:"Auth.form.button.login",defaultMessage:"Login"}))))),ve),t.createElement(Z.k,{justifyContent:"center"},t.createElement(g.x,{paddingTop:4},t.createElement(l.Link,{to:"/auth/forgot-password"},D({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};ge.defaultProps={children:null,onSubmit(){}},ge.propTypes={children:A().node,onSubmit:A().func,schema:A().shape({type:A().string.isRequired}).isRequired},h.Z=ge},5365:function(x,h,e){"use strict";var t=e(32735),l=e(60216),a=e.n(l),y=e(1115),E=e(954);const g=P=>t.createElement(E.ZP,null,t.createElement(y.Z,{...P}));g.defaultProps={onSubmit:P=>P.preventDefault()},g.propTypes={onSubmit:a().func},h.Z=g},53951:function(x,h,e){"use strict";e.r(h);var t=e(32735),l=e(88425),a=e.n(l),y=e(27649),E=e(28356),g=e(17e3),P=e(9695),W=e(25386),Z=e(8482),J=e(5636);const w=()=>{const{formatMessage:f}=(0,J.useIntl)();return(0,l.useFocusWhenNavigate)(),t.createElement(y.o,{labelledBy:"title"},t.createElement(E.T,{id:"title",title:f({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(g.D,null,t.createElement(P.x,{action:t.createElement(l.LinkButton,{variant:"secondary",endIcon:t.createElement(Z.Z,null),to:"/"},f({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:f({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(W.default,{width:"10rem"}),shadow:"tableShadow"})))};h.default=w},26123:function(x,h){"use strict";h.Z={}},41832:function(x,h){"use strict";const e=({data:t})=>{try{return Object.keys(t).reduce((l,a)=>{const y=t[a][0];return l[a]={id:y,defaultMessage:y},l},{})}catch{return{}}};h.Z=e},64421:function(x,h,e){"use strict";e.d(h,{R6:function(){return a},ot:function(){return w},Iz:function(){return f.Z},Pp:function(){return je},IF:function(){return ge},Qy:function(){return ve},WW:function(){return I}});var t=e(88425),a=async(S,O)=>{let D=null;try{await O.validate(S,{abortEarly:!1})}catch(ye){D=(0,t.getYupInnerErrors)(ye)}return D},y=e(32735),E=e(60216),g=e.n(E),P=e(5141),W=e(98399);const Z=({loadComponent:S})=>{const[O,D]=(0,y.useState)(null);return(0,y.useEffect)(()=>{(async()=>{try{const F=await S();D(()=>F.default)}catch(F){W.log(F)}})()},[S]),O?y.createElement(O,null):y.createElement(t.LoadingIndicatorPage,null)},J=(S,O,D)=>y.createElement(P.Route,{render:()=>y.createElement(Z,{loadComponent:S}),key:O,path:O,exact:D||!1});Z.propTypes={loadComponent:g().func.isRequired};var w=J,f=e(41832),M=e(92891);const N=S=>{const O=get(S,["options","timestamps"]);let D=Array.isArray(O)?O:[];const F=[...["id","_id"],...D,"publishedAt"],Me=get(S,["attributes"],{});return Object.keys(Me).reduce((ae,$)=>(F.includes($)||ae.push({...Me[$],attributeName:$}),ae),[])};var A=null,I=S=>S.filter((O,D,ye)=>ye.findIndex(F=>F.key===O.key)===D);const _=S=>sortBy(S,O=>O.name);var H=null;const v=S=>Array.from(new Set(Object.entries(S).reduce((O,D)=>{const ye=F=>F.reduce((Me,ae)=>{let $=Me;return ae.actions&&($=[...$,...ae.actions]),typeof ae=="object"&&!ae.actions&&($=[...$,...Object.keys(ae)]),$},[]);return[...O,...ye([...Object.values(D[1].attributes||{}),get(D[1],"contentTypeActions",{})])]},[])));var Ce=null,ge=S=>`/admin/${S}`,je=(S,O="")=>[S,O].filter(D=>D).join(" ");const o={bufferToHex(S){return[...new Uint8Array(S)].map(O=>O.toString(16).padStart(2,"0")).join("")},async digestMessage(S){const O=new TextEncoder().encode(S),D=await crypto.subtle.digest("SHA-256",O);return this.bufferToHex(D)}};async function ve(S){if(!S)return null;try{return await o.digestMessage(S.email)}catch{return null}}},58414:function(x,h,e){"use strict";e.d(h,{p:function(){return J}});var t=e(32735),l=e(88425),a=e(64421),y=e(97889);const E={data:[],isLoading:!0};var P=(w,f)=>(0,y.default)(w,M=>{switch(f.type){case"GET_DATA_SUCCEEDED":{M.data=f.data,M.isLoading=!1;break}case"GET_DATA_ERROR":{M.isLoading=!1;break}default:return M}}),W=e(98399),J=({ssoEnabled:w})=>{const[f,M]=(0,t.useReducer)(P,E),N=(0,l.useNotification)();(0,t.useEffect)(()=>{A()},[]);const A=async()=>{try{if(!w){M({type:"GET_DATA_SUCCEEDED",data:[]});return}const T=(0,a.IF)("providers"),I=await(0,l.request)(T,{method:"GET"});M({type:"GET_DATA_SUCCEEDED",data:I})}catch(T){W.error(T),M({type:"GET_DATA_ERROR"}),N({type:"warning",message:{id:"notification.error"}})}};return f}},66334:function(x,h,e){"use strict";var t=e(83983);const a=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:t.Z.settings.auditLogs.main}]:[]];h.Z=a},11545:function(x,h,e){"use strict";var t=e(83983);const a=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}]:[]];h.Z=a},68944:function(x,h,e){"use strict";e.d(h,{Z:function(){return w}});var t=e(32735),l=e(5141),a=e(5636),y=e(49189),E=e.n(y),g=e(88425),P=e(64421),Z=()=>{const{params:{authResponse:f}}=(0,l.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:M}=(0,a.useIntl)(),{push:N}=(0,l.useHistory)(),A=(0,t.useRef)(M);let T=(0,t.useCallback)(()=>{N(`/auth/oops?info=${encodeURIComponent(A.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[N]);const I=(0,t.useCallback)(async()=>{try{const _=E().get("jwtToken");if(g.auth.clearAppStorage(),_){g.auth.setToken(_,!0);const H=(0,P.IF)("users/me"),{data:v}=await(0,g.request)(H,{method:"GET"});g.auth.setUserInfo(v,!0),E().remove("jwtToken"),N("/auth/login")}}catch{T()}},[N,T]);return(0,t.useEffect)(()=>{f==="error"&&T(),f==="success"&&I()},[f,I,T]),t.createElement(g.LoadingIndicatorPage,null)},w=[{Component:()=>({default:Z}),to:"/auth/login/:authResponse",exact:!0}]},98768:function(x,h,e){"use strict";var t=e(32735),l=e(60216),a=e.n(l),y=e(83292),E=e(72850),g=e(87933),P=e(9026),W=e(27677),Z=e(49372),J=e(5636),w=e(1115),f=e(58414),M=e(954),N=e(33205);const A=(0,y.default)(P.i)`
  flex: 1;
`,T=I=>{const _=strapi.features.isEnabled(strapi.features.SSO),{isLoading:H,data:v}=(0,f.p)({ssoEnabled:_}),{formatMessage:Ce}=(0,J.useIntl)();return!_||!H&&v.length===0?t.createElement(M.ZP,null,t.createElement(w.Z,{...I})):t.createElement(M.ZP,null,t.createElement(w.Z,{...I},t.createElement(E.x,{paddingTop:7},t.createElement(W.K,{spacing:7},t.createElement(g.k,null,t.createElement(A,null),t.createElement(E.x,{paddingLeft:3,paddingRight:3},t.createElement(Z.Z,{variant:"sigma",textColor:"neutral600"},Ce({id:"Auth.login.sso.divider"}))),t.createElement(A,null)),t.createElement(N.Z,{providers:v,displayAllProviders:!1})))))};T.defaultProps={onSubmit:I=>I.preventDefault(),requestError:null},T.propTypes={formErrors:a().object.isRequired,modifiedData:a().object.isRequired,onChange:a().func.isRequired,onSubmit:a().func,requestError:a().object},h.Z=T},33205:function(x,h,e){"use strict";var t=e(32735),l=e(60216),a=e.n(l),y=e(15335),E=e(5803),g=e(87933),P=e(49372),W=e(63919),Z=e(83292),J=e(5636),w=e(5141);const f=Z.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:T})=>T.colors.neutral150};
  border-radius: ${({theme:T})=>T.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:T})=>T.colors.neutral600};
`,M=(0,Z.default)(g.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:T})=>T.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:T})=>T.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:T})=>T.spaces[2]};
  }
`,N=({provider:T})=>t.createElement(W.u,{label:T.displayName},t.createElement(f,{href:`${strapi.backendURL}/admin/connect/${T.uid}`},T.icon?t.createElement("img",{src:T.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(P.Z,null,T.displayName)));N.propTypes={provider:a().shape({icon:a().string,displayName:a().string.isRequired,uid:a().string.isRequired}).isRequired};const A=({providers:T,displayAllProviders:I})=>{const{formatMessage:_}=(0,J.useIntl)();return I?t.createElement(y.r,{gap:4},T.map(H=>t.createElement(E.P,{key:H.uid,col:4},t.createElement(N,{provider:H})))):T.length>2&&!I?t.createElement(y.r,{gap:4},T.slice(0,2).map(H=>t.createElement(E.P,{key:H.uid,col:4},t.createElement(N,{provider:H}))),t.createElement(E.P,{col:4},t.createElement(W.u,{label:_({id:"global.see-more"})},t.createElement(f,{as:w.Link,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(M,{justifyContent:"center"},T.map(H=>t.createElement(N,{key:H.uid,provider:H})))};A.defaultProps={displayAllProviders:!0},A.propTypes={providers:a().arrayOf(a().object).isRequired,displayAllProviders:a().bool},h.Z=A},7277:function(x,h,e){"use strict";e.d(h,{Z:function(){return ge}});var t=e(32735),l=e(5141),a=e(83292),y=e(88425),E=e(9026),g=e(27677),P=e(87933),W=e(72850),Z=e(41415),J=e(97405),w=e(49372),f=e(27649),M=e(5636),N=e(58414),A=e(954),T=e(33205),I=e(10190);const _=(0,a.default)(E.i)`
  flex: 1;
`;var v=()=>{const je=strapi.features.isEnabled(strapi.features.SSO),{push:o}=(0,l.useHistory)(),{formatMessage:ve}=(0,M.useIntl)(),{isLoading:S,data:O}=(0,N.p)({ssoEnabled:je}),D=()=>{o("/auth/login")};return!je||!S&&O.length===0?t.createElement(l.Redirect,{to:"/auth/login"}):t.createElement(A.ZP,null,t.createElement(f.o,null,t.createElement(A.bU,null,t.createElement(A.sg,null,t.createElement(I.Z,null),t.createElement(W.x,{paddingTop:6,paddingBottom:1},t.createElement(w.Z,{as:"h1",variant:"alpha"},ve({id:"Auth.form.welcome.title"}))),t.createElement(W.x,{paddingBottom:7},t.createElement(w.Z,{variant:"epsilon",textColor:"neutral600"},ve({id:"Auth.login.sso.subtitle"})))),t.createElement(g.K,{spacing:7},S?t.createElement(P.k,{justifyContent:"center"},t.createElement(J.a,null,ve({id:"Auth.login.sso.loading"}))):t.createElement(T.Z,{providers:O}),t.createElement(P.k,null,t.createElement(_,null),t.createElement(W.x,{paddingLeft:3,paddingRight:3},t.createElement(w.Z,{variant:"sigma",textColor:"neutral600"},ve({id:"or"}))),t.createElement(_,null)),t.createElement(Z.z,{fullWidth:!0,size:"L",onClick:D},ve({id:"Auth.form.button.login.strapi"})))),t.createElement(P.k,{justifyContent:"center"},t.createElement(W.x,{paddingTop:4},t.createElement(y.Link,{to:"/auth/forgot-password"},t.createElement(w.Z,{variant:"pi"},ve({id:"Auth.link.forgot-password"})))))))},Ce=e(78834),ge={...Ce.Z,providers:{Component:v,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},99568:function(x,h){"use strict";const e={settings:{sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}};h.Z=e},48224:function(x,h,e){var t={"./ar.json":[38677,7958],"./ca.json":[90169,3516],"./cs.json":[43186,7519],"./de.json":[8343,6901],"./dk.json":[65668,7898],"./en.json":[10329,320],"./es.json":[45445,8367],"./fr.json":[8399,8006],"./gu.json":[10182,2248],"./he.json":[21757,830],"./hi.json":[43206,6332],"./hu.json":[72320,5894],"./id.json":[74221,8897],"./it.json":[90685,6817],"./ja.json":[21727,1312],"./ko.json":[30986,1377],"./ml.json":[11309,9903],"./ms.json":[75973,3025],"./nl.json":[80381,2671],"./no.json":[82446,562],"./pl.json":[84008,7846],"./pt-BR.json":[91417,9647],"./pt.json":[41830,3340],"./ru.json":[57098,123],"./sa.json":[92900,9726],"./sk.json":[52204,606],"./sv.json":[43211,9303],"./th.json":[49582,749],"./tr.json":[99154,395],"./uk.json":[2987,7403],"./vi.json":[50576,3278],"./zh-Hans.json":[35964,2553],"./zh.json":[91999,1011]};function l(a){if(!e.o(t,a))return Promise.resolve().then(function(){var g=new Error("Cannot find module '"+a+"'");throw g.code="MODULE_NOT_FOUND",g});var y=t[a],E=y[0];return e.e(y[1]).then(function(){return e.t(E,19)})}l.keys=function(){return Object.keys(t)},l.id=48224,x.exports=l},47750:function(x,h,e){"use strict";x.exports=e.p+"70674f63fc3904c20de0.svg"}}]);
